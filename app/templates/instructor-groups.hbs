<section class='instructorgroups-list' data-test-instructor-groups>
  <div class="filters">
    <div class="schoolsfilter">
      {{fa-icon 'university' fixedWidth=true}}
      {{#if hasMoreThanOneSchool}}
        <select onchange={{action "changeSelectedSchool" value="target.value"}} data-test-school-filter>
          {{#each (sort-by 'title' model.schools) as |school|}}
            <option value={{school.id}} selected={{is-equal school selectedSchool}}>
              {{school.title}}
            </option>
          {{/each}}
        </select>
      {{else}}
        {{selectedSchool.title}}
      {{/if}}
    </div>
    <div class="titlefilter">
      {{one-way-input
        data-test-title-filter
        value=titleFilter
        update=(perform changeTitleFilter)
        placeholder=(t 'general.instructorGroupTitleFilterPlaceholder')
      }}
    </div>
  </div>
  <section class='instructorgroups'>
    <div class="header">
      <div class="title">
        <h2>{{t 'general.instructorGroups'}}</h2>
      </div>
      <div class='actions'>
        {{expand-collapse-button data-test-toggle-new-group-form value=showNewInstructorGroupForm action="toggleNewInstructorGroupForm"}}
      </div>
    </div>
    <section class='new' data-test-new-group>
      {{#if showNewInstructorGroupForm class='vertical'}}
        {{new-instructorgroup
          currentSchool=selectedSchool
          save=(action 'saveNewInstructorGroup')
          cancel='toggleNewInstructorGroupForm'
        }}
      {{/if}}
      {{#if newInstructorGroup}}
        <div class='saved-result'>
          {{#link-to 'instructorGroup' newInstructorGroup}}
            {{fa-icon 'external-link-square'}} {{newInstructorGroup.title}}
          {{/link-to}}
          {{t 'general.savedSuccessfully'}}
        </div>
      {{/if}}
    </section>
    <div class='list'>
      {{#if (is-fulfilled filteredInstructorGroups)}}
        {{instructorgroup-list
          instructorGroups=(await filteredInstructorGroups)
          edit='editInstructorGroup'
          remove='removeInstructorGroup'
        }}
      {{else}}
        {{pulse-loader}}
      {{/if}}
    </div>
  </section>
</section>
